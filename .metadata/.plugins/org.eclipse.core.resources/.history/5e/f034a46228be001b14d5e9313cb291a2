package view;

import java.util.List;

import model.Enemy;
import model.Player;
import model.Room;

public class GameScreen {

  public void welcomeMessage() {
    Console.displayln("Bienvenue dans la forteresse du Tyran");
    Console.displayln("Le Tyran vous attends de pied ferme...");
    Console.displayln("Allez-vous tomber? Ou allez-vous LE faire tomber?");
  }

  public void badEnding() {
    Console.displayln("Vous êtes mort...");
    Console.displayln("La règne du Tyran continuera encore");
    
  }

  public void goodEnding() {
    Console.displayln("Bravo ! Vous avez gagné");
    Console.displayln("Le Tyran est tombé");
  }

  public void describeCurrentRoom(String currentRoomDescription) {
    Console.displayln("Vous êtes dans " + currentRoomDescription);
  }
  

  public void proposeAvailableActions(List<Action> actions) {
    for (Action a : actions) {
      Console.displayln("(" + a.getCharToRead() + ") " + a.getMessage());
    }
  }

  public PossibleAction readActionToDo(List<Action> actions) {
    PossibleAction result = null;

    Interaction.resetKeys();
    for (Action a : actions) {
      Interaction.acceptKey(a.getCharToRead());
    }

    Console.systemeInfo("Votre choix ?");
    char rep = Interaction.readAction();

    for (Action a : actions) {
      if (Character.toLowerCase(rep) == Character.toLowerCase(a.getCharToRead())) {
        result = a.getAction();
        break;
      }
    }

    return result;
  }

public void describeCurrentRoom(Room currentLocation) {
	String desc = currentLocation.getDesc();
	describeCurrentRoom(desc);
}

public void describeCurrentMob(Enemy mob) {
	String desc = "Vous rencontrez " + mob.getName();
	Console.displayln(desc);
}

public void describeCurrentTurnFight(Player player, Enemy mob){
	String fightText = FightView.PlayerAttack(player, mob);
	Console.displayln(fightText);
}

public void killText(Enemy mob) {
	String text = "Vous avez vaincu " + mob;
	Console.displayln(text);
}

}
